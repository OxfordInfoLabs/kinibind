!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.kinibind=e():t.kinibind=e()}(window,function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=26)}([function(t,e,r){"use strict";r.d(e,"d",function(){return u}),r.d(e,"c",function(){return h}),r.d(e,"a",function(){return l}),r.d(e,"b",function(){return p});var n=r(25);const i=0,s=1,o=0,a=1,c=/^'.*'$|^".*"$/;function u(t,e){t=p(t,e);let r=i,n=t;return c.test(t)?n=t.slice(1,-1):"true"===t?n=!0:"false"===t?n=!1:"null"===t?n=null:"undefined"===t?n=void 0:isNaN(t)?r=s:n=Number(t),{type:r,value:n}}function h(t,e){var r;let n=t.length,i=0,s=0,c=e[0],u=e[1];for(;s<n;){if((i=t.indexOf(c,s))<0){r&&r.push({type:o,value:t.slice(s)});break}{if(r||(r=[]),i>0&&s<i&&r.push({type:o,value:t.slice(s,i)}),s=i+c.length,(i=t.indexOf(u,s))<0){let e=t.slice(s-u.length),n=r[r.length-1];n&&n.type===o?n.value+=e:r.push({type:o,value:e});break}let e=t.slice(s,i).trim();r.push({type:a,value:e}),s=i+u.length}}return r}function l(t){var e=t.match(/{(.*?)}/g);return e?e.map(t=>{return t.substr(1,t.length-2)}):[]}function p(t,e){const r=l(t);return r.length&&r.forEach(r=>{let i=Object(n.a)(e,r.trim());void 0!==i&&(t=t.replace("{"+r+"}",i))}),t}},function(t,e,r){"use strict";e.a=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,r){"use strict";var n=r(8),i=r(0);const s={binders:{},formatters:{eval:function(t,e,r){return function(t,e,r){return{"===":function(t,e){return t===e},"==":function(t,e){return t==e},">":function(t,e){return t>e},">=":function(t,e){return t>=e},"<":function(t,e){return t<e},"<=":function(t,e){return t<=e},"*":function(t,e){let r=t*e==Math.round(t*e)?t*e:(t*e).toFixed(2);return isNaN(r)?"":r},"+":function(t,e){return t+e},"-":function(t,e){return t-e},"/":function(t,e){let r=t/e==Math.round(t/e)?t/e:(t/e).toFixed(2);return isNaN(r)?"":r},IN:function(t,e){return e.split(",").indexOf(t)>-1}}[t](e,r)}(e,t,r)}},adapters:{},_prefix:"kb",_fullPrefix:"kb-",get prefix(){return this._prefix},set prefix(t){this._prefix=t,this._fullPrefix=t+"-"},parseTemplate:i.c,parseType:i.d,templateDelimiters:["{","}"],rootInterface:".",preloadData:!0,handler:function(t,e,r){this&&this.call(t,e,r.view.models)},fallbackBinder:function(t,e){if(null!=e){const r=Object.assign(this.view.models,this.view.models.$parent),n=Object(i.b)(e,r);t.setAttribute(this.type,n)}else t.removeAttribute(this.type)},configure:function(t){t&&Object.keys(t).forEach(e=>{let r=t[e];n.a.indexOf(e)>-1?Object.keys(r).forEach(t=>{this[e][t]=r[t]}):this[e]=r})}};e.a=s},function(t,e,r){"use strict";var n=r(6).a.Symbol;e.a=n},function(t,e,r){"use strict";var n=r(9);var i=function(t){return null!=t&&"object"==typeof t},s="[object Symbol]";e.a=function(t){return"symbol"==typeof t||i(t)&&Object(n.a)(t)==s}},function(t,e,r){"use strict";var n=r(9),i=r(1),s="[object AsyncFunction]",o="[object Function]",a="[object GeneratorFunction]",c="[object Proxy]";var u=function(t){if(!Object(i.a)(t))return!1;var e=Object(n.a)(t);return e==o||e==a||e==s||e==c},h=r(6).a["__core-js_shared__"],l=function(){var t=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();var p=function(t){return!!l&&l in t},d=Function.prototype.toString;var f=function(t){if(null!=t){try{return d.call(t)}catch(t){}try{return t+""}catch(t){}}return""},b=/^\[object .+?Constructor\]$/,v=Function.prototype,y=Object.prototype,_=v.toString,m=y.hasOwnProperty,g=RegExp("^"+_.call(m).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");var E=function(t){return!(!Object(i.a)(t)||p(t))&&(u(t)?g:b).test(f(t))};var O=function(t,e){return null==t?void 0:t[e]};e.a=function(t,e){var r=O(t,e);return E(r)?r:void 0}},function(t,e,r){"use strict";var n=r(24),i="object"==typeof self&&self&&self.Object===Object&&self,s=n.a||i||Function("return this")();e.a=s},function(t,e,r){"use strict";var n=r(2),i=r(0),s=r(11);const o=/[^\s']+|'([^']|'[^\s])*'|"([^"]|"[^\s])*"/g,a=/\s+/;class c{constructor(t,e,r,n,i,s,o,a){this.view=t,this.el=e,this.type=r,this.keypath=n,this.binder=i,this.arg=s,this.formatters=o,this.formatterObservers={},this.model=void 0,this.subject=a}observe(t,e){return new s.a(t,e,this)}parseTarget(){if(this.keypath){let t=Object(i.d)(this.keypath,this.view.models);this.keypath.includes("{")&&!this.keypath.includes("[")||this.keypath.includes("http://")||this.keypath.includes("https://")?this.value=this.keypath:0===t.type?this.value=t.value:(this.observer=this.observe(this.view.models,t.value),this.model=this.observer.target)}else this.value=void 0}parseFormatterArguments(t,e){return t.map(i.d).map(({type:t,value:r},n)=>{if(0===t)return r;{this.formatterObservers[e]||(this.formatterObservers[e]={});let t=this.formatterObservers[e][n];return t||(t=this.observe(this.view.models,r),this.formatterObservers[e][n]=t),t.value()}})}formattedValue(t){return this.formatters.reduce((t,e,r)=>{let n=e.match(o),i=n.shift(),s=this.view.options.formatters[i];const a=this.parseFormatterArguments(n,r);return s&&s.read instanceof Function?t=s.read(t,...a):s instanceof Function&&(t=s(t,...a)),t},t)}eventHandler(t,e){let r=this,n=r.view.options.handler;return function(i){e&&i.key===e?n.call(t,this,i,r):e||n.call(t,this,i,r)}}set(t){t=t instanceof Function&&!this.binder.function?this.formattedValue(t.call(this.model)):this.formattedValue(t);let e=this.binder.routine||this.binder;e instanceof Function&&e.call(this,this.el,t)}sync(){this.observer?(this.model=this.observer.target,this.set(this.observer.value())):this.set(this.value)}publish(){if(this.observer){var t=this.formatters.reduceRight((t,e,r)=>{const n=e.split(a),i=n.shift(),s=this.view.options.formatters[i],o=this.parseFormatterArguments(n,r);return s&&s.publish&&(t=s.publish(t,...o)),t},this.getValue(this.el));this.observer.setValue(t),this.subject.next({newValue:t,keyPath:this.keypath})}}bind(){this.parseTarget(),this.binder.hasOwnProperty("bind")&&this.binder.bind.call(this,this.el),this.view.options.preloadData&&this.sync()}unbind(){this.binder.unbind&&this.binder.unbind.call(this,this.el),this.observer&&this.observer.unobserve(),Object.keys(this.formatterObservers).forEach(t=>{let e=this.formatterObservers[t];Object.keys(e).forEach(t=>{e[t].unobserve()})}),this.formatterObservers={}}update(t={}){this.observer&&(this.model=this.observer.target),this.binder.update&&this.binder.update.call(this,t)}getValue(t){return this.binder&&this.binder.getValue?this.binder.getValue.call(this,t):function(t){let e=[];return"checkbox"===t.type?t.checked:"select-multiple"===t.type?(t.options.forEach(t=>{t.selected&&e.push(t.value)}),e):t.value}(t)}}var u=r(23),h=r(1);r.d(e,"a",function(){return y});const l={routine:(t,e)=>{t.data=null!=e?e:""}},p=/((?:'[^']*')*(?:(?:[^\|']*(?:'[^']*')+[^\|']*)+|[^\|]+))|^$/g,d=(t,e)=>{let r=!1;if(3===e.nodeType){let s=Object(i.c)(e.data,n.a.templateDelimiters);if(s){for(let r=0;r<s.length;r++){let n=s[r],i=document.createTextNode(n.value);e.parentNode.insertBefore(i,e),1===n.type&&t.buildBinding(i,null,n.value,l,null)}e.parentNode.removeChild(e)}r=!0}else 1===e.nodeType&&(r=t.traverse(e));if(!r)for(let r=0;r<e.childNodes.length;r++)d(t,e.childNodes[r])},f=(t,e)=>{let r=t.binder&&t.binder.priority||0;return(e.binder&&e.binder.priority||0)-r},b=t=>t.trim(),v=(t,e)=>{e&&Object(h.a)(e)&&Array.isArray(t)&&t.forEach(t=>{const r=Object(i.a)(t.keypath);r&&r.includes(e.keyPath)&&t.sync()})};class y{constructor(t,e,r){t.jquery||t instanceof Array?this.els=t:this.els=[t],this.models=e,this.options=r,this.subject=new u.Subject,this.build()}buildBinding(t,e,r,n,i){let s=r.match(p).map(b),o=s.shift();this.bindings.push(new c(this,t,e,o,n,i,s,this.subject))}build(){this.bindings=[];let t,e,r=this.els;for(t=0,e=r.length;t<e;t++)d(this,r[t]);this.bindings.sort(f)}traverse(t){let e=n.a._fullPrefix,r="SCRIPT"===t.nodeName||"STYLE"===t.nodeName,i=t.attributes,s=[],o=this.options.starBinders;var a,c,u,h;for(let r=0,l=i.length;r<l;r++){let l=i[r];if(0===l.name.indexOf(e)){if(a=l.name.slice(e.length),h=void 0,!(c=this.options.binders[a]))for(let t=0;t<o.length;t++)if(u=o[t],a.slice(0,u.length-1)===u.slice(0,-1)){c=this.options.binders[u],h=a.slice(u.length-1);break}if(c||(c=n.a.fallbackBinder),c.block)return this.buildBinding(t,a,l.value,c,h),t.removeAttribute(l.name),!0;s.push({attr:l,binder:c,type:a,arg:h})}}for(let e=0;e<s.length;e++){let r=s[e];this.buildBinding(t,r.type,r.attr.value,r.binder,r.arg),t.removeAttribute(r.attr.name)}return r}bind(){this.subject.subscribe(t=>{v(this.bindings,t,this.models)}),this.bindings.forEach(t=>{t.bind()})}unbind(){this.subject.unsubscribe(),this.bindings.forEach(t=>{t.unbind()})}sync(){this.bindings.forEach(t=>{t.sync()})}publish(){this.bindings.forEach(t=>{t.binder&&t.binder.publishes&&t.publish()})}update(t={}){Object.keys(t).forEach(e=>{this.models[e]=t[e]}),this.bindings.forEach(e=>{e.update&&e.update(t)})}}},function(t,e,r){"use strict";r.d(e,"b",function(){return n}),r.d(e,"a",function(){return i});const n=["prefix","templateDelimiters","rootInterface","preloadData","handler"],i=["binders","formatters","adapters"]},function(t,e,r){"use strict";var n=r(3),i=Object.prototype,s=i.hasOwnProperty,o=i.toString,a=n.a?n.a.toStringTag:void 0;var c=function(t){var e=s.call(t,a),r=t[a];try{t[a]=void 0;var n=!0}catch(t){}var i=o.call(t);return n&&(e?t[a]=r:delete t[a]),i},u=Object.prototype.toString;var h=function(t){return u.call(t)},l="[object Null]",p="[object Undefined]",d=n.a?n.a.toStringTag:void 0;e.a=function(t){return null==t?void 0===t?p:l:d&&d in Object(t)?c(t):h(t)}},function(t,e,r){"use strict";var n=Array.isArray,i=r(4),s=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,o=/^\w*$/;var a=function(t,e){if(n(t))return!1;var r=typeof t;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=t&&!Object(i.a)(t))||o.test(t)||!s.test(t)||null!=e&&t in Object(e)},c=r(5),u=Object(c.a)(Object,"create");var h=function(){this.__data__=u?u(null):{},this.size=0};var l=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},p="__lodash_hash_undefined__",d=Object.prototype.hasOwnProperty;var f=function(t){var e=this.__data__;if(u){var r=e[t];return r===p?void 0:r}return d.call(e,t)?e[t]:void 0},b=Object.prototype.hasOwnProperty;var v=function(t){var e=this.__data__;return u?void 0!==e[t]:b.call(e,t)},y="__lodash_hash_undefined__";var _=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=u&&void 0===e?y:e,this};function m(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}m.prototype.clear=h,m.prototype.delete=l,m.prototype.get=f,m.prototype.has=v,m.prototype.set=_;var g=m;var E=function(){this.__data__=[],this.size=0},O=r(13);var k=function(t,e){for(var r=t.length;r--;)if(Object(O.a)(t[r][0],e))return r;return-1},w=Array.prototype.splice;var j=function(t){var e=this.__data__,r=k(e,t);return!(r<0||(r==e.length-1?e.pop():w.call(e,r,1),--this.size,0))};var S=function(t){var e=this.__data__,r=k(e,t);return r<0?void 0:e[r][1]};var P=function(t){return k(this.__data__,t)>-1};var x=function(t,e){var r=this.__data__,n=k(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this};function A(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}A.prototype.clear=E,A.prototype.delete=j,A.prototype.get=S,A.prototype.has=P,A.prototype.set=x;var T=A,M=r(6),N=Object(c.a)(M.a,"Map");var D=function(){this.size=0,this.__data__={hash:new g,map:new(N||T),string:new g}};var R=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t};var C=function(t,e){var r=t.__data__;return R(e)?r["string"==typeof e?"string":"hash"]:r.map};var L=function(t){var e=C(this,t).delete(t);return this.size-=e?1:0,e};var B=function(t){return C(this,t).get(t)};var U=function(t){return C(this,t).has(t)};var $=function(t,e){var r=C(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this};function F(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}F.prototype.clear=D,F.prototype.delete=L,F.prototype.get=B,F.prototype.has=U,F.prototype.set=$;var I=F,z="Expected a function";function V(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(z);var r=function(){var n=arguments,i=e?e.apply(this,n):n[0],s=r.cache;if(s.has(i))return s.get(i);var o=t.apply(this,n);return r.cache=s.set(i,o)||s,o};return r.cache=new(V.Cache||I),r}V.Cache=I;var W=V,H=500;var K=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Y=/\\(\\)?/g,q=function(t){var e=W(t,function(t){return r.size===H&&r.clear(),t}),r=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(K,function(t,r,n,i){e.push(n?i.replace(Y,"$1"):r||t)}),e}),J=r(3);var G=function(t,e){for(var r=-1,n=null==t?0:t.length,i=Array(n);++r<n;)i[r]=e(t[r],r,t);return i},Q=1/0,X=J.a?J.a.prototype:void 0,Z=X?X.toString:void 0;var tt=function t(e){if("string"==typeof e)return e;if(n(e))return G(e,t)+"";if(Object(i.a)(e))return Z?Z.call(e):"";var r=e+"";return"0"==r&&1/e==-Q?"-0":r};var et=function(t){return null==t?"":tt(t)};e.a=function(t,e){return n(t)?t:a(t,e)?[t]:q(et(t))}},function(t,e,r){"use strict";function n(t){return"object"==typeof t&&null!==t}var i,s,o;function a(t,e,r){this.keypath=e,this.callback=r,this.objectPath=[],this.parse(),this.obj=this.getRootObject(t),n(this.target=this.realize())&&this.set(!0,this.key,this.target,this.callback)}a.updateOptions=function(t){i=t.adapters,s=Object.keys(i),o=t.rootInterface},a.tokenize=function(t,e){var r,n,i=[],o={i:e,path:""};for(r=0;r<t.length;r++)if(n=t.charAt(r),~s.indexOf(n))i.push(o),o={i:n,path:""};else if("["===n){i.push(o);let e=t.substr(r).indexOf("]");i.push({i:".",path:t.substr(r+1,e-1)}),r=r+e+1,o={i:t.charAt(r),path:""}}else o.path+=n;return o.path.length>0&&i.push(o),i},a.prototype.parse=function(){var t,e;s.length||function(t){throw new Error("[Observer] "+t)}("Must define at least one adapter interface."),~s.indexOf(this.keypath[0])?(e=this.keypath[0],t=this.keypath.substr(1)):(e=o,t=this.keypath),this.tokens=a.tokenize(t,e),this.key=this.tokens.pop()},a.prototype.realize=function(){var t,e,r=this.obj,i=-1;for(let s=0;s<this.tokens.length;s++)e=this.tokens[s],n(r)?(void 0!==this.objectPath[s]?r!==(t=this.objectPath[s])&&(this.set(!1,e,t,this),this.set(!0,e,r,this),this.objectPath[s]=r):(this.set(!0,e,r,this),this.objectPath[s]=r),r=this.get(e,r)):(-1===i&&(i=s),(t=this.objectPath[s])&&this.set(!1,e,t,this));return-1!==i&&this.objectPath.splice(i),r},a.prototype.sync=function(){var t,e,r;(t=this.realize())!==this.target?(n(this.target)&&this.set(!1,this.key,this.target,this.callback),n(t)&&this.set(!0,this.key,t,this.callback),e=this.value(),this.target=t,((r=this.value())!==e||r instanceof Function)&&this.callback.sync()):t instanceof Array&&this.callback.sync()},a.prototype.value=function(){if(n(this.target))return this.get(this.key,this.target)},a.prototype.setValue=function(t){n(this.target)&&i[this.key.i].set(this.target,this.key.path,t)},a.prototype.get=function(t,e){return i[t.i].get(e,t.path)},a.prototype.set=function(t,e,r,n){var s=t?"observe":"unobserve";i[e.i][s](r,e.path,n)},a.prototype.unobserve=function(){var t,e;for(let r=0;r<this.tokens.length;r++)e=this.tokens[r],(t=this.objectPath[r])&&this.set(!1,e,t,this);n(this.target)&&this.set(!1,this.key,this.target,this.callback)},a.prototype.getRootObject=function(t){var e,r;if(!t.$parent)return t;for(e=this.tokens.length?this.tokens[0].path:this.key.path,r=t;r.$parent&&void 0===r[e];)r=r.$parent;return r},e.a=a},function(t,e,r){"use strict";var n=r(4),i=1/0;e.a=function(t){if("string"==typeof t||Object(n.a)(t))return t;var e=t+"";return"0"==e&&1/t==-i?"-0":e}},function(t,e,r){"use strict";e.a=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),e.$$rxSubscriber=e.rxSubscriber},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(35),i=r(34),s=r(20),o=r(33),a=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var r=this._parent,a=this._parents,u=this._unsubscribe,h=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var l=-1,p=a?a.length:0;r;)r.remove(this),r=++l<p&&a[l]||null;if(s.isFunction(u))try{u.call(this)}catch(r){e=!0,t=r instanceof o.UnsubscriptionError?c(r.errors):[r]}if(n.isArray(h))for(l=-1,p=h.length;++l<p;){var d=h[l];if(i.isObject(d))try{d.unsubscribe()}catch(r){e=!0,t=t||[],r instanceof o.UnsubscriptionError?t=t.concat(c(r.errors)):t.push(r)}}if(e)throw new o.UnsubscriptionError(t)}},t.prototype.add=function(e){var r=e;switch(typeof e){case"function":r=new t(e);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof t)){var n=r;(r=new t)._subscriptions=[n]}break;default:if(!e)return t.EMPTY;throw new Error("unrecognized teardown "+e+" added to Subscription.")}if(r._addParent(this)){var i=this._subscriptions;i?i.push(r):this._subscriptions=[r]}return r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.prototype._addParent=function(t){var e=this._parent,r=this._parents;return e!==t&&(e?r?-1===r.indexOf(t)&&(r.push(t),!0):(this._parents=[t],!0):(this._parent=t,!0))},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function c(t){return t.reduce(function(t,e){return t.concat(e instanceof o.UnsubscriptionError?e.errors:e)},[])}e.Subscription=a},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=!1;e.config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){if(t){var e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else n&&console.log("RxJS: Back to a better error behavior. Thank you. <3");n=t},get useDeprecatedSynchronousErrorHandling(){return n}}},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(20),s=r(19),o=r(15),a=r(14),c=r(16),u=r(18),h=function(t){function e(r,n,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=s.empty;break;case 1:if(!r){o.destination=s.empty;break}if("object"==typeof r){r instanceof e?(o.syncErrorThrowable=r.syncErrorThrowable,o.destination=r,r.add(o)):(o.syncErrorThrowable=!0,o.destination=new l(o,r));break}default:o.syncErrorThrowable=!0,o.destination=new l(o,r,n,i)}return o}return n(e,t),e.prototype[a.rxSubscriber]=function(){return this},e.create=function(t,r,n){var i=new e(t,r,n);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this},e}(o.Subscription);e.Subscriber=h;var l=function(t){function e(e,r,n,o){var a,c=t.call(this)||this;c._parentSubscriber=e;var u=c;return i.isFunction(r)?a=r:r&&(a=r.next,n=r.error,o=r.complete,r!==s.empty&&(u=Object.create(r),i.isFunction(u.unsubscribe)&&c.add(u.unsubscribe.bind(u)),u.unsubscribe=c.unsubscribe.bind(c))),c._context=u,c._next=a,c._error=n,c._complete=o,c}return n(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;c.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=c.config.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):u.hostReportError(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;u.hostReportError(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};c.config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),c.config.useDeprecatedSynchronousErrorHandling)throw t;u.hostReportError(t)}},e.prototype.__tryOrSetError=function(t,e,r){if(!c.config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(e){return c.config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(u.hostReportError(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(h);e.SafeSubscriber=l},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hostReportError=function(t){setTimeout(function(){throw t})}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(16),i=r(18);e.empty={closed:!0,next:function(t){},error:function(t){if(n.config.useDeprecatedSynchronousErrorHandling)throw t;i.hostReportError(t)},complete:function(){}}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isFunction=function(t){return"function"==typeof t}},,function(module,__webpack_exports__,__webpack_require__){"use strict";var _view__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7),_parsers__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(0),lodash_es__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(25),lodash_es__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(39),lodash_es__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(1);const getString=t=>null!=t?t.toString():void 0,times=(t,e)=>{for(let r=0;r<t;r++)e()};function createView(t,e,r){let n=t.el.cloneNode(!0),i=new _view__WEBPACK_IMPORTED_MODULE_0__.a(n,e,t.view.options);return i.bind(),t.marker.parentNode.insertBefore(n,r),i}const binders={"on-*":{function:!0,priority:1e3,unbind:function(t){this.handler&&t.removeEventListener(this.arg,this.handler)},routine:function(t,e){this.handler&&t.removeEventListener(this.arg,this.handler);const r=t.getAttribute("key");this.handler=this.eventHandler(e,r),t.addEventListener(this.arg,this.handler)}},"each-*":{block:!0,priority:4e3,bind:function(t){this.marker?this.iterated.forEach(t=>{t.bind()}):(this.marker=document.createComment(` kinibind: ${this.type} `),this.iterated=[],t.parentNode.insertBefore(this.marker,t),t.parentNode.removeChild(t))},unbind:function(t){this.iterated&&this.iterated.forEach(t=>{t.unbind()})},routine:function(t,e){let r=this.arg;e=e||[];let n=t.getAttribute("index-property")||"$index";Array.isArray(e)?e.forEach((t,e)=>{processEach.call(this,t,e,r,n)}):Object.keys(e).forEach(t=>{processEach.call(this,e[t],t,r,n)}),this.iterated.length>e.length&&times(this.iterated.length-e.length,()=>{let t=this.iterated.pop();t.unbind(),this.marker.parentNode.removeChild(t.els[0])}),"OPTION"===t.nodeName&&this.view.bindings.forEach(t=>{t.el===this.marker.parentNode&&"value"===t.type&&t.sync()})},update:function(t){let e={};Object.keys(t).forEach(r=>{r!==this.arg&&(e[r]=t[r])}),this.iterated.forEach(t=>{t.update(e)})}},"class-*":function(t,e){let r=` ${t.className} `;!e==r.indexOf(` ${this.arg} `)>-1&&(t.className=e?`${t.className} ${this.arg}`:r.replace(` ${this.arg} `," ").trim())},text:(t,e)=>{t.textContent=null!=e?e:""},html:(t,e)=>{t.innerHTML=null!=e?e:""},show:(t,e)=>{t.style.display=e?"":"none"},hide:(t,e)=>{t.style.display=e?"none":""},enabled:(t,e)=>{t.disabled=!e},disabled:(t,e)=>{t.disabled=!!e},checked:{publishes:!0,priority:2e3,bind:function(t){var e=this;this.callback||(this.callback=function(){e.publish()}),t.addEventListener("change",this.callback)},unbind:function(t){t.removeEventListener("change",this.callback)},routine:function(t,e){"radio"===t.type?t.checked=getString(t.value)===getString(e):t.checked=!!e}},value:{publishes:!0,priority:3e3,bind:function(t){if(this.isRadio="INPUT"===t.tagName&&"radio"===t.type,!this.isRadio){var e=this;if(this.callback||(this.callback=function(){e.publish()}),t.getAttribute("action")){var r=t.getAttribute("action");document.getElementsByClassName(r.split(":")[0]).item(0).addEventListener(r.split(":")[1],this.callback)}else this.event=t.getAttribute("event-name")||("SELECT"===t.tagName?"change":"input"),t.addEventListener(this.event,this.callback)}},unbind:function(t){this.isRadio||t.removeEventListener(this.event,this.callback)},routine:function(t,e){if(this.isRadio)t.setAttribute("value",e);else if("select-multiple"===t.type){if(e instanceof Array)for(let r=0;r<t.length;r++){let n=t[r];n.selected=e.indexOf(n.value)>-1}}else getString(e)!==getString(t.value)&&(t.value=null!=e?e:"")}},if:{block:!0,priority:4e3,bind:function(t){this.marker?!1===this.bound&&this.nested&&this.nested.bind():(this.marker=document.createComment(" kinibind: "+this.type+" "+this.keypath+" "),this.attached=!1,t.parentNode.insertBefore(this.marker,t),t.parentNode.removeChild(t)),this.bound=!0},unbind:function(){this.nested&&(this.nested.unbind(),this.bound=!1)},routine:function(t,e){!!e!==this.attached&&(e?(this.nested||(this.nested=new _view__WEBPACK_IMPORTED_MODULE_0__.a(t,this.view.models,this.view.options),this.nested.bind()),this.marker.parentNode.insertBefore(t,this.marker.nextSibling),this.attached=!0):(t.parentNode.removeChild(t),this.attached=!1))},update:function(t){this.nested&&this.nested.update(t)}},radioset:{bind:function(t){var e=this;this.callback||(this.callback=function(t){t.stopPropagation(),e.sync()}),this.modelName=t.getAttribute("model")||"radioData",this.inputs=Object.values(t.getElementsByTagName("input")),this.inputs.forEach(t=>{if("radio"===t.type){const e=Object(lodash_es__WEBPACK_IMPORTED_MODULE_2__.a)(this.view.models,this.modelName);t.value===e&&(t.checked=!0),t.addEventListener("change",this.callback)}})},unbind:function(t){this.inputs=Object.values(t.getElementsByTagName("input")),this.inputs.forEach(t=>{"radio"===t.type&&t.removeEventListener("change",this.callback)})},routine:function(t,e){this.inputs=Object.values(t.getElementsByTagName("input")),this.inputs.forEach(t=>{"radio"===t.type&&t.checked&&Object(lodash_es__WEBPACK_IMPORTED_MODULE_3__.a)(this.view.models,this.modelName,t.value)})}},bind:{bind:function(t){this.value=t.getAttribute("source"),this.value||console.error("You must supply a source string to this binding"),this.modelName=t.getAttribute("model")||"sourceData",this.reloadTrigger=t.getAttribute("reload-trigger"),this.triggers=[],this.payload=t.getAttribute("payload"),this.method=t.getAttribute("method")||"GET",this.load="false"!==t.getAttribute("load"),this.loadingIndicator=t.getAttribute("loading-indicator"),this.loadingIndicator&&(this.loadingElement=document.getElementsByClassName(this.loadingIndicator).item(0)),this.reloadTrigger&&this.reloadTrigger.split(",").forEach(t=>{const e=t.split(":")[0],r=t.split(":")[1];this.triggers.push({className:e,event:r,bound:!1});const n=document.getElementsByClassName(e);[].forEach.call(n,t=>{t.addEventListener("enter"===r?"keyup":r,e=>{"enter"===r?"Enter"===e.key&&fetchSourceData.call(this,t,this.value):fetchSourceData.call(this,t,this.value)})})})},unbind:function(t){this.triggers.forEach(t=>{const e=t.className,r=document.getElementsByClassName(e);[].forEach.call(r,e=>{const r=t.event;e.removeEventListener("enter"===r?"keyup":r)})})},routine:function(t,e){this.load?fetchSourceData.call(this,t,e):this.loadingElement&&(this.loadingElement.style.display="none")}},action:{bind:function(t){this.value=t.getAttribute("source"),this.value||console.error("You must supply a source string to this binding -> ",t);const e=t.getAttribute("method")||"GET",r=t.getAttribute("model"),n=t.getAttribute("payload");this.actionEvent=t.getAttribute("event")||"click",this.value&&(this.callback||(this.callback=(()=>{const i=new Event("actionStarted");t.dispatchEvent(i),r&&(this.view.models[r+"Error"]=void 0);const s=t.getAttribute("loading-indicator");let o;s&&(o=document.getElementsByClassName(s).item(0)),o&&(o.style.display="");const a={method:e,credentials:"include",headers:{"Content-Type":"text/plain"},mode:"cors"};if(n){const t={};Object(_parsers__WEBPACK_IMPORTED_MODULE_1__.b)(n,this.view.models,{}).split(",").forEach(e=>{const r=e.split(":");t[r[0]]=r[1]}),Object.keys(t).length&&(a.body=JSON.stringify(t),a.method="GET"!==e?e:"POST")}const c=Object(_parsers__WEBPACK_IMPORTED_MODULE_1__.b)(this.value,this.view.models,{});fetch(encodeURI(c),a).then(t=>t.ok?t.text().then(function(t){return t?JSON.parse(t):{}}):t.text().then(function(t){throw new Error(t)})).then(e=>{s&&(o.style.display="none"),r&&(this.view.models[r]=e);const n=new CustomEvent("actionCompleted",{detail:{actionSuccess:e}});t.dispatchEvent(n)}).catch(e=>{const n=JSON.parse(e.message);r&&(this.view.models[r+"Error"]=n);const i=new CustomEvent("actionFailed",{detail:{actionError:n}});t.dispatchEvent(i)})})),t.addEventListener(this.actionEvent,this.callback))},unbind:function(t){t.removeEventListener(this.actionEvent,this.callback)}},"multi-check":{bind:function(t){const e=this;this.callback||(this.callback=function(t){t.stopPropagation(),e.sync()}),this.performMultiCheck=(()=>{this.inputs=Object.values(t.getElementsByTagName("input")),this.inputs.forEach(t=>{t.addEventListener("change",this.callback)})}),this.modelName=t.getAttribute("model")||"multi",this.output=t.getAttribute("output"),this.onEvent=t.getAttribute("on-event"),this.onEvent?(this.loadElement=document.getElementsByClassName(this.onEvent.split(":")[0]).item(0),this.loadEvent=this.onEvent.split(":")[1],this.loadElement.addEventListener(this.loadEvent,this.performMultiCheck)):this.performMultiCheck()},unbind:function(t){this.inputs.forEach(t=>{t.removeEventListener("change",this.callback)}),this.onEvent&&(this.loadElement.removeEventListener(this.loadEvent,this.performMultiCheck),this.loadElement.removeEventListener(this.loadEvent,this.doRoutine))},routine:function(t,e){this.doRoutine=(()=>{if("object"===this.output){const t={};this.inputs.forEach(e=>{const r=e.getAttribute("mcvalue")||e.value;t[r]=e.checked}),t.all=Object.values(t).some(t=>t),this.view.models[this.modelName]=t}else{const t=[];this.inputs.forEach(e=>{e.checked&&t.push(e.getAttribute("mcvalue")||e.value)}),this.view.models[this.modelName]=t}const e=new Event("change");t.dispatchEvent(e),this.onEvent&&(this.onEvent=null)}),this.onEvent&&this.loadElement.addEventListener(this.loadEvent,this.doRoutine),this.onEvent||this.doRoutine()}}};function fetchSourceData(t,e){this.loadingElement&&(this.loadingElement.style.display="");const r=new Event("sourceLoading");t.dispatchEvent(r);const n=Object(_parsers__WEBPACK_IMPORTED_MODULE_1__.b)(e,this.view.models,{});if(n.includes("{")){this.loadingElement&&(this.loadingElement.style.display="none");const e=new Event("sourceLoaded");return t.dispatchEvent(e),Promise.resolve()}this.view.models[this.modelName+"Error"]=void 0;const i={method:this.method,credentials:"include"};if(this.payload){const t=parsePayload.call(this,this.payload);i.method="GET"!==this.method?this.method:"POST",i.headers={"Content-Type":"text/plain"},i.body=JSON.stringify(t),i.mode="cors"}return fetch(encodeURI(n),i).then(t=>{if(t.ok)return t.text().then(function(t){return t?JSON.parse(t):{}});throw new Error(t.statusText)}).then(e=>{void 0!==e&&null!==e||(e={}),this.loadingElement&&(this.loadingElement.style.display="none"),this.view.models[this.modelName]=void 0,this.view.models[this.modelName]=e,Object(lodash_es__WEBPACK_IMPORTED_MODULE_4__.a)(this.view.models[this.modelName])&&(this.view.models[this.modelName].reset=(()=>{this.view.models[this.modelName]=void 0}));const r=new CustomEvent("sourceLoaded",{detail:{sourceSuccess:e}});return t.dispatchEvent(r),!0}).then(()=>{this.triggers.forEach(t=>{const e=t.className,r=t.event,n=document.getElementsByClassName(e);[].forEach.call(n,t=>{t.removeEventListener("enter"===r?"keyup":r),t.addEventListener("enter"===r?"keyup":r,e=>{"enter"===r?"Enter"===e.key&&fetchSourceData.call(this,t,this.value):fetchSourceData.call(this,t,this.value)})})})}).catch(e=>{this.loadingElement&&(this.loadingElement.style.display="none"),this.view.models[this.modelName+"Error"]=e;const r=new CustomEvent("sourceFailed",{detail:{sourceError:e}});return t.dispatchEvent(r),!0})}function parsePayload(payload){return payload=payload.replace(/{(.*?)}/g,"this.view.models.$1"),eval("payload = {"+payload+"};"),payload}function processEach(t,e,r,n){let i={$parent:this.view.models};i[n]=e,i[r]=t;let s=this.iterated[e];if(s)if(s.models[r]!==t){let o,a;for(let n=e+1;n<this.iterated.length;n++)if((a=this.iterated[n]).models[r]===t){o=n;break}void 0!==o?(this.iterated.splice(o,1),this.marker.parentNode.insertBefore(a.els[0],s.els[0]),a.models[n]=e):a=createView(this,i,s.els[0]),this.iterated.splice(e,0,a)}else s.models[n]=e;else{let t=this.marker;this.iterated.length&&(t=this.iterated[this.iterated.length-1].els[0]),s=createView(this,i,t.nextSibling),this.iterated.push(s)}}__webpack_exports__.a=binders},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=r(37),s=r(17),o=r(15),a=r(28),c=r(27),u=r(14),h=function(t){function e(e){var r=t.call(this,e)||this;return r.destination=e,r}return n(e,t),e}(s.Subscriber);e.SubjectSubscriber=h;var l=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return n(e,t),e.prototype[u.rxSubscriber]=function(){return new h(this)},e.prototype.lift=function(t){var e=new p(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new a.ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new a.ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new a.ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),o.Subscription.EMPTY):this.isStopped?(t.complete(),o.Subscription.EMPTY):(this.observers.push(t),new c.SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new i.Observable;return t.source=this,t},e.create=function(t,e){return new p(t,e)},e}(i.Observable);e.Subject=l;var p=function(t){function e(e,r){var n=t.call(this)||this;return n.destination=e,n.source=r,n}return n(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):o.Subscription.EMPTY},e}(l);e.AnonymousSubject=p},function(t,e,r){"use strict";(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.a=r}).call(this,r(38))},function(t,e,r){"use strict";var n=r(10),i=r(12);var s=function(t,e){for(var r=0,s=(e=Object(n.a)(e,t)).length;null!=t&&r<s;)t=t[Object(i.a)(e[r++])];return r&&r==s?t:void 0};e.a=function(t,e,r){var n=null==t?void 0:s(t,e);return void 0===n?r:n}},function(t,e,r){"use strict";r.r(e);var n=r(2),i=r(7),s=r(8);const o=["push","pop","shift","unshift","sort","reverse","splice"];var a={counter:0,weakmap:{},weakReference:function(t){if(!t.hasOwnProperty("__kb")){let e=this.counter++;Object.defineProperty(t,"__kb",{value:e})}return this.weakmap[t.__kb]||(this.weakmap[t.__kb]={callbacks:{}}),this.weakmap[t.__kb]},cleanupWeakReference:function(t,e){Object.keys(t.callbacks).length||t.pointers&&Object.keys(t.pointers).length||delete this.weakmap[e]},stubFunction:function(t,e){let r=t[e],n=this.weakReference(t),i=this.weakmap;t[e]=((...e)=>{let s=r.apply(t,e);return Object.keys(n.pointers).forEach(t=>{let e=n.pointers[t];i[t]&&i[t].callbacks[e]instanceof Array&&i[t].callbacks[e].forEach(t=>{t.sync()})}),s})},observeMutations:function(t,e,r){if(t instanceof Array){let n=this.weakReference(t);n.pointers||(n.pointers={},o.forEach(e=>{this.stubFunction(t,e)})),n.pointers[e]||(n.pointers[e]=[]),-1===n.pointers[e].indexOf(r)&&n.pointers[e].push(r)}},unobserveMutations:function(t,e,r){if(t instanceof Array&&null!=t.__kb){let n=this.weakmap[t.__kb];if(n){let i=n.pointers[e];if(i){let s=i.indexOf(r);s>-1&&i.splice(s,1),i.length||delete n.pointers[e],this.cleanupWeakReference(n,t.__kb)}}}},observe:function(t,e,r){var n;let i=this.weakReference(t).callbacks;if(!i[e]){i[e]=[];let r=Object.getOwnPropertyDescriptor(t,e);r&&(r.get||r.set||!r.configurable)||(n=t[e],Object.defineProperty(t,e,{enumerable:!0,get:()=>n,set:r=>{if(r!==n){this.unobserveMutations(n,t.__kb,e),n=r;let i=this.weakmap[t.__kb];if(i){let n=i.callbacks[e];n&&n.forEach(t=>{t.sync()}),this.observeMutations(r,t.__kb,e)}}}}))}-1===i[e].indexOf(r)&&i[e].push(r),this.observeMutations(t[e],t.__kb,e)},unobserve:function(t,e,r){let n=this.weakmap[t.__kb];if(n){let i=n.callbacks[e];if(i){let s=i.indexOf(r);s>-1&&(i.splice(s,1),i.length||(delete n.callbacks[e],this.unobserveMutations(t[e],t.__kb,e))),this.cleanupWeakReference(n,t.__kb)}}},get:function(t,e){return t[e]},set:(t,e,r)=>{t[e]=r}},c=r(22),u=r(11);n.a.binders=c.a,n.a.adapters["."]=a,n.a.bind=((t,e,r)=>{let o={};e=e||{},r=r||{},s.a.forEach(t=>{o[t]=Object.create(null),r[t]&&Object.keys(r[t]).forEach(e=>{o[t][e]=r[t][e]}),Object.keys(n.a[t]).forEach(e=>{o[t][e]||(o[t][e]=n.a[t][e])})}),s.b.forEach(t=>{let e=r[t];o[t]=null!=e?e:n.a[t]}),o.starBinders=Object.keys(o.binders).filter(function(t){return t.indexOf("*")>0}),u.a.updateOptions(o);let a=new i.a(t,e,o);return a.bind(),a}),n.a.formatters.negate=n.a.formatters.not=function(t){return!t};e.default=n.a},function(t,e,r){"use strict";var n=this&&this.__extends||function(){var t=function(e,r){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(e,r)};return function(e,r){function n(){this.constructor=e}t(e,r),e.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}();Object.defineProperty(e,"__esModule",{value:!0});var i=function(t){function e(e,r){var n=t.call(this)||this;return n.subject=e,n.subscriber=r,n.closed=!1,n}return n(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(r(15).Subscription);e.SubjectSubscription=i},function(t,e,r){"use strict";function n(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}Object.defineProperty(e,"__esModule",{value:!0}),n.prototype=Object.create(Error.prototype),e.ObjectUnsubscribedError=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.noop=function(){}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(29);function i(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:n.noop}e.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return i(t)},e.pipeFromArray=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.observable="function"==typeof Symbol&&Symbol.observable||"@@observable"},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(17),i=r(14),s=r(19);e.toSubscriber=function(t,e,r){if(t){if(t instanceof n.Subscriber)return t;if(t[i.rxSubscriber])return t[i.rxSubscriber]()}return t||e||r?new n.Subscriber(t,e,r):new n.Subscriber(s.empty)}},function(t,e,r){"use strict";function n(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}Object.defineProperty(e,"__esModule",{value:!0}),n.prototype=Object.create(Error.prototype),e.UnsubscriptionError=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isObject=function(t){return null!==t&&"object"==typeof t}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isArray=Array.isArray||function(t){return t&&"number"==typeof t.length}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(17);e.canReportError=function(t){for(;t;){var e=t,r=e.closed,i=e.destination,s=e.isStopped;if(r||s)return!1;t=i&&i instanceof n.Subscriber?i:null}return!0}},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(36),i=r(32),s=r(31),o=r(30),a=r(16),c=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,s=i.toSubscriber(t,e,r);if(n?s.add(n.call(s,this.source)):s.add(this.source||a.config.useDeprecatedSynchronousErrorHandling&&!s.syncErrorThrowable?this._subscribe(s):this._trySubscribe(s)),a.config.useDeprecatedSynchronousErrorHandling&&s.syncErrorThrowable&&(s.syncErrorThrowable=!1,s.syncErrorThrown))throw s.syncErrorValue;return s},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){a.config.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),n.canReportError(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=u(e))(function(e,n){var i;i=r.subscribe(function(e){try{t(e)}catch(t){n(t),i&&i.unsubscribe()}},n,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[s.observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:o.pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=u(t))(function(t,r){var n;e.subscribe(function(t){return n=t},function(t){return r(t)},function(){return t(n)})})},t.create=function(e){return new t(e)},t}();function u(t){if(t||(t=a.config.Promise||Promise),!t)throw new Error("no Promise impl found");return t}e.Observable=c},function(t,e){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(t){"object"==typeof window&&(r=window)}t.exports=r},function(t,e,r){"use strict";var n=r(5),i=function(){try{var t=Object(n.a)(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();var s=function(t,e,r){"__proto__"==e&&i?i(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r},o=r(13),a=Object.prototype.hasOwnProperty;var c=function(t,e,r){var n=t[e];a.call(t,e)&&Object(o.a)(n,r)&&(void 0!==r||e in t)||s(t,e,r)},u=r(10),h=9007199254740991,l=/^(?:0|[1-9]\d*)$/;var p=function(t,e){var r=typeof t;return!!(e=null==e?h:e)&&("number"==r||"symbol"!=r&&l.test(t))&&t>-1&&t%1==0&&t<e},d=r(1),f=r(12);var b=function(t,e,r,n){if(!Object(d.a)(t))return t;for(var i=-1,s=(e=Object(u.a)(e,t)).length,o=s-1,a=t;null!=a&&++i<s;){var h=Object(f.a)(e[i]),l=r;if(i!=o){var b=a[h];void 0===(l=n?n(b,h,a):void 0)&&(l=Object(d.a)(b)?b:p(e[i+1])?[]:{})}c(a,h,l),a=a[h]}return t};e.a=function(t,e,r){return null==t?t:b(t,e,r)}}]).default});